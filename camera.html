<!DOCTYPE html>
<html>    

    <head>
        <script type="text/javascript" src="instascan.min.js" >
            function alerta1(){ 
                alert("Há uma uma falha na câmera do dispositivo!")
            }
        </script>
        <style>
            .cam{
                width: 310px;
                padding: 10px;
                margin: 300px; 
            }
        </style>
    </head>
    <body>
    
        <div class="cam">
        
            <video id="preview" style="width:auto"></video>
        
            <script>
                
                var link = "http://scaber.serveo.net/api/v1/salas/";

                let scanner = new Instascan.Scanner(
                    {
                        video: document.getElementById('preview')
                    }
                );
                scanner.addListener('scan', function(content){
                    alert('Escaneou o conteudo: ' + content);
                    window.open(link + content, "_blank");
                });
                Instascan.Camera.getCameras().then(cameras => 
                {
                    if(cameras.length > 0){
                        scanner.start(cameras[1]);
                    } else {
                        console.error("Não existe câmera no dispositivo!");
                    }
                });
            </script>
            <input type="button" onclick="alerta1()" value="exibir alert" />
        </div>
    </body>
</html>