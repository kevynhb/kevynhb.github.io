<!DOCTYPE html>
<html>    

    <head>
            <script type="text/javascript" src="instascan.min.js" ></script>
    </head>

    <style>
        .center{
            margin: auto;
            width: 50%;
            border: 1px solid #73AD21;
            padding: 130px;
        }
    </style>

    <body>
            <div class="center">
                <video id="preview"></video>
            </div>
        <script>
            
            var link = "http://scaber.serveo.net/api/v1/salas/";

            let scanner = new Instascan.Scanner(
                {
                    video: document.getElementById('preview')
                }
            );
            scanner.addListener('scan', function(content){
                alert('Escaneou o conteudo: ' + content);
                window.open(link + content, "_blank");
            });
            Instascan.Camera.getCameras().then(cameras => 
            {
                if(cameras.length > 0){
                    scanner.start(cameras[1]);
                } else {
                    console.error("Não existe câmera no dispositivo!");
                }
            });
            
        </script>
    </body>
</html>