<!DOCTYPE html>
<html>    

    <head>
        <script type="text/javascript" src="instascan.min.js" ></script>
    
        <style>
            .cam{
                margin: 0;
                width: 320%;
                border: 3px solid black;
                padding: 10px;
            }
        </style>
            
    </head>
    <body>
    
        <div class="cam">
        
            <video id="preview"></video>
        
            <script>
                
                var link = "http://scaber.serveo.net/api/v1/salas/";

                let scanner = new Instascan.Scanner(
                    {
                        video: document.getElementById('preview')
                    }
                );
                scanner.addListener('scan', function(content){
                    alert('Escaneou o conteudo: ' + content);
                    window.open(link + content, "_blank");
                });
                Instascan.Camera.getCameras().then(cameras => 
                {
                    if(cameras.length > 0){
                        scanner.start(cameras[1]);
                    } else {
                        console.error("Não existe câmera no dispositivo!");
                    }
                });
                
            </script>
        </div>
    
    </body>
</html>